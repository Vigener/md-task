---
applyTo: "**"
---

# md-task プロジェクト開発指針

## プロジェクト概要

- md-taskはMarkdownファイル内のタスク管理を行うRust製CLIツール
- タスクの追加、一覧表示、完了、削除、アーカイブなどの機能を提供

## コーディング規約

- Rustのコード規約に従う（rustfmtの設定に準拠）
- 関数には適切なドキュメンテーションコメントを付ける
- パブリック関数・構造体には必ずドキュメントコメントを記述する
- エラーハンドリングを適切に行い、ユーザーにわかりやすいエラーメッセージを提供する

## プロジェクト構造

- src/main.rs: CLIの定義とエントリーポイント
- src/config.rs: 設定管理機能
- src/task.rs: タスク操作機能
- tests/: 自動テスト

## テスト戦略
- 新機能には必ず単体テストを作成する
- ユースケースを考慮した結合テストを実装する
- テストカバレッジを意識する（最低70%以上）

## 開発ワークフロー

- 機能追加は feature/ プレフィックスのブランチで行う
- バグ修正は fix/ プレフィックスのブランチで行う
- コミットメッセージは「feat: 機能概要」「fix: 修正内容」の形式で記述する
- PRを作成する前に `cargo test` を実行して全テストが通ることを確認する

## CI/CD

- GitHub Actionsによる自動テスト、フォーマットチェック
- Clippy静的解析によるコード品質確認
- リリースタグ作成時に自動的にバイナリをビルドして添付

## 依存関係追加ポリシー

- 新たなクレートを追加する際は、メンテナンス状況と互換性を確認する
- セキュリティリスクを考慮する（cargo-audit で検証）
- できるだけ軽量な依存関係を選ぶ