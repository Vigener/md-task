# md-task

コマンドラインでMarkdownファイル上のタスクを管理するためのシンプルなCLIツールです。

## 概要

このツールは、指定したMarkdownファイル内の特定のセクション（例: `## タスク`）にあるチェックリストを管理します。RustとPodmanの学習を目的として開発されています。

## 主な機能

- `add <タスク内容>` (短縮: `a`): 新しいタスクをMarkdownファイルに追加します。
  - `add <タスク内容> --priority <優先度>` (短縮: `a <タスク内容> -p <優先度>`): 優先度付きでタスクを追加します。
  - 優先度: `high` (🔴), `medium` (🟡, デフォルト), `low` (🟢)
- `list` (短縮: `ls`): 未完了のタスクを一覧表示します。
  - `list --all` (短縮: `ls -a`): 完了済みタスクも含めて全てのタスクを表示します。
- `done <タスク番号>` (短縮: `d`): タスクを完了済みにする (`- [ ]` -> `- [x]`)
- `remove <タスク番号>` (短縮: `rm`): 未完了タスクを削除します。

### コマンドエイリアス

効率的な操作のため、各コマンドには短縮形が用意されています：
- `add` → `a`
- `list` → `ls`  
- `done` → `d`
- `remove` → `rm`

例: `md-task a "重要なタスク" -p high` や `md-task ls -a` のように使用できます。

## 今後の機能（ロードマップ）

- [x] **基本的なタスク管理機能**
    - [x] `add`: タスクを追加する
    - [x] `list`: 未完了タスクを表示する  
    - [x] `done`: タスクを完了済みにする
    - [x] `remove`: タスクを削除する
    - [x] **コマンドエイリアス**: 短縮形コマンドのサポート
- [x] **`list`コマンドの強化**
    - [x] `list --all` フラグで完了済みタスクも表示
- [x] **タスク管理機能の強化**
    - [x] **優先度の指定機能**: high/medium/low の3段階で優先度を設定
- [ ] **タスク管理機能のさらなる強化**
    - [ ] `archive <タスク番号>`: 完了済みタスクをアーカイブセクションに移動する
    - [ ] タブ補完機能（`done`/`remove`コマンドでのタスク候補表示）
    - [ ] 優先度によるソート機能
- [ ] **設定ファイル(`config.toml`など)の導入**
    - [ ] `list`コマンドのデフォルト挙動（完了済みタスクの表示/非表示など）を設定可能にする
    - [ ] タスクファイルのパスや、書き込み先の見出しを設定可能にする

## 開発環境のセットアップ

このプロジェクトはPodmanを使ったコンテナ環境で開発します。

1. **イメージのビルド:**
   ```bash
   # DNSに問題がある場合は --dns=1.1.1.1 を追加
   podman build -t md-task-dev .
   ```
2. **コンテナの起動:**
   ```bash 
   # ホストの.zshrcをコンテナにマウントして、zshの設定を反映
    # DNSに問題がある場合は --dns=1.1.1.1 を追加
   podman run -d --name md-task-container --dns=1.1.1.1 -v .:/usr/src/app -v ~/.zshrc:/root/.zshrc:ro md-task-dev
   ```
3. **コンテナ内での作業
    ```bash
    podman exec -it md-task-container zsh
    ```
